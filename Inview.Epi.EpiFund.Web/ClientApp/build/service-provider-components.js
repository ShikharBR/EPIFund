!function(e){function t(t){for(var n,c,o=t[0],i=t[1],s=t[2],m=0,f=[];m<o.length;m++)c=o[m],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&f.push(r[c][0]),r[c]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(u&&u(t);f.length;)f.shift()();return l.push.apply(l,s||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,o=1;o<a.length;o++){var i=a[o];0!==r[i]&&(n=!1)}n&&(l.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},r={10:0},l=[];function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var o=window.webpackJsonp=window.webpackJsonp||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var u=i;l.push([1216,0]),a()}({1152:function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},1216:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(6),c=a.n(l),o=(a(584),a(280),a(8)),i=a(9),s=a(10);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t,a,n,r,l,c){try{var o=e[l](c),i=o.value}catch(e){return void a(e)}o.done?t(i):Promise.resolve(i).then(n,r)}function f(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=v(e);if(t){var r=v(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return y(this,a)}}function y(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=a(22),E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(y,e);var t,a,n,l,c,u=p(y);function y(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);var a=b(t=u.call(this,e));return t.state={isLoading:!0,industrySPs:[],locationSPs:[],assetTypeSPs:[]},t.deleteSelectedPreferredSP=t.deleteSelectedPreferredSP.bind(b(t)),h.subscribe("refreshPreferredSPs",(function(e,t){a.refresh()})),t}return t=y,(a=[{key:"componentDidMount",value:function(){this.refresh()}},{key:"refresh",value:(l=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this,o.a.getUserPreferredServiceProviders().then((function(e){t.setState({industrySPs:[],locationSPs:[],assetTypeSPs:[]});var a=[];e.map((function(e,t){return 0==e.PreferredServiceProviderLevel&&(a.push(e),!0)}));var n=[];$.each(e,(function(e,t){if(1==t.PreferredServiceProviderLevel){var a=n.filter((function(e,a){return e.PreferredUserId==t.PreferredUserId}))[0];null==a?n.push(t):a.LocationDescription=a.LocationDescription+" | "+t.LocationDescription}}));var r=[];$.each(e,(function(e,t){if(2==t.PreferredServiceProviderLevel){var a=r.filter((function(e,a){return e.PreferredUserId==t.PreferredUserId}))[0];null==a?r.push(t):a.AssetTypeDescription=a.AssetTypeDescription+" | "+t.AssetTypeDescription}})),t.setState({industrySPs:a,locationSPs:n,assetTypeSPs:r,isLoading:!1})}));case 2:case"end":return e.stop()}}),e,this)})),c=function(){var e=this,t=arguments;return new Promise((function(a,n){var r=l.apply(e,t);function c(e){m(r,a,n,c,o,"next",e)}function o(e){m(r,a,n,c,o,"throw",e)}c(void 0)}))},function(){return c.apply(this,arguments)})},{key:"deleteSelectedPreferredSP",value:function(e,t){var a=this,n=e.filter((function(e){return e.IsSelected})).map((function(e){return e.PreferredUserId}));0!==n.length?o.a.removePreferredServiceProvidersByPreferredUserIdsAndLevel(n,t).then((function(e){i.a.info("Removed preferred service provider(s)"),a.refresh()})):i.a.warn("Please select a service provider to remove")}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.state.isLoading?r.a.createElement(s.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"preferred-sp-panel-page"},r.a.createElement("h3",null,"Preferred Service Providers"),r.a.createElement("div",{className:"panel"},r.a.createElement("div",{className:"panel-body"},r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("button",{onClick:function(){h.publish("newPreferredServiceProviderModal",!0)},className:"btn btn-primary"},r.a.createElement("i",{className:"fas fa-plus"})," Add new preferred service provider"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:""},r.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},r.a.createElement("li",{role:"presentation",className:"active"},r.a.createElement("a",{href:"#","data-target":"#Industry","data-toggle":"tab"},"Industry ",r.a.createElement("span",{className:"label "+(this.state.industrySPs.length>0?"label-info":"label-default")},this.state.industrySPs.length))),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#","data-target":"#Location","data-toggle":"tab"},"Location ",r.a.createElement("span",{className:"label "+(this.state.locationSPs.length>0?"label-info":"label-default")}," ",this.state.locationSPs.length))),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#","data-target":"#Type","data-toggle":"tab"},"Asset Type ",r.a.createElement("span",{className:"label "+(this.state.assetTypeSPs.length>0?"label-info":"label-default")}," ",this.state.assetTypeSPs.length)))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in active",id:"Industry"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.deleteSelectedPreferredSP(e.state.industrySPs,0)}},r.a.createElement("i",{className:"fas fa-times"})," Delete selected service providers"))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50px"}}),r.a.createElement("th",null,"First Name"),r.a.createElement("th",null,"Last Name"),r.a.createElement("th",null,"Industry"))),r.a.createElement("tbody",null,this.state.industrySPs.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement("div",{className:"custom-checkbox"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",value:"locSp.IsSelected",onChange:function(){e.IsSelected=!e.IsSelected}})," ",r.a.createElement("span",{className:"label-text"})))),r.a.createElement("td",null,e.UserProfile.FirstName),r.a.createElement("td",null,e.UserProfile.LastName),r.a.createElement("td",null,e.UserProfile.ServiceProviderTypeDescription))}))))),r.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Location"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.deleteSelectedPreferredSP(e.state.locationSPs,1)}},r.a.createElement("i",{className:"fas fa-times"})," Delete selected service providers"))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50px"}}),r.a.createElement("th",null,"First Name"),r.a.createElement("th",null,"Last Name"),r.a.createElement("th",null,"Locations"))),r.a.createElement("tbody",null,this.state.locationSPs.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement("div",{className:"custom-checkbox"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",value:"lSp.IsSelected",onChange:function(){e.IsSelected=!e.IsSelected}})," ",r.a.createElement("span",{className:"label-text"})))),r.a.createElement("td",null,e.UserProfile.FirstName),r.a.createElement("td",null,e.UserProfile.LastName),r.a.createElement("td",null,e.LocationDescription))}))))),r.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Type"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.deleteSelectedPreferredSP(e.state.assetTypeSPs,2)}},r.a.createElement("i",{className:"fas fa-times"})," Delete selected service providers"))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50px"}}),r.a.createElement("th",null,"First Name"),r.a.createElement("th",null,"Last Name"),r.a.createElement("th",null,"Asset Types"))),r.a.createElement("tbody",null,this.state.assetTypeSPs.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement("div",{className:"custom-checkbox"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",value:"atSp.IsSelected",onChange:function(){e.IsSelected=!e.IsSelected}})," ",r.a.createElement("span",{className:"label-text"})))),r.a.createElement("td",null,e.UserProfile.FirstName),r.a.createElement("td",null,e.UserProfile.LastName),r.a.createElement("td",null,e.AssetTypeDescription))})))))))))))))))}}])&&f(t.prototype,a),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),y}(n.Component),g=document.getElementById("preferred-service-provider-app");null!=g&&c.a.render(r.a.createElement(E,{addFromPreferred:!1}),g);a(1152);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function S(e,t,a,n,r,l,c){try{var o=e[l](c),i=o.value}catch(e){return void a(e)}o.done?t(i):Promise.resolve(i).then(n,r)}function w(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=I(e);if(t){var r=I(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return L(this,a)}}function L(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}a(22);var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(u,e);var t,a,n,l,c,i=A(u);function u(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);k(t=i.call(this,e));return t.state={isLoading:!0,isInventoryTableLoading:!0,isFpaActivityTableLoading:!0,isAccountingActivityLoading:!0,registeredPIs:[],inventoryTable:null,fpaActivityTable:null,accountingActivityTable:null},t}return t=u,(a=[{key:"componentDidMount",value:function(){this.refresh()}},{key:"refresh",value:(l=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=this).setState({isLoading:!1}),setTimeout((function(){null!=t.state.fpaActivityTable&&t.state.fpaActivityTable.destroy(),t.setState({fpaActivityTable:$(".fpa-activity-table").DataTable(),isFpaActivityTableLoading:!1}),null!=t.state.accountingActivityTable&&t.state.accountingActivityTable.destroy(),t.setState({accountingActivityTable:$(".accounting-activity-table").DataTable(),isAccountingActivityLoading:!1}),$('[data-toggle="tooltip"]').tooltip()}),1e3),o.a.getUserReferrals().then((function(e){if(null!=e){var a=e.filter((function(e){if(2==e.ReferralStatus||3==e.ReferralStatus)return e})).map((function(e){return e.ReferredUserId}));a.length>0?o.a.getUserProfileBysUserIds(a).then((function(e){for(var a=[],n=0;n<e.length;n++){var r=e[n];5==r.User.UserType&&"Principal Investor"==r.UserTypeDescription&&a.push(r)}t.setState({registeredPIs:a}),null!=t.state.inventoryTable&&t.state.inventoryTable.destroy(),setTimeout((function(){t.setState({inventoryTable:$(".inventory-of-marketing-table").DataTable(),isInventoryTableLoading:!1})}),500)})):(null!=t.state.inventoryTable&&t.state.inventoryTable.destroy(),setTimeout((function(){t.setState({inventoryTable:$(".inventory-of-marketing-table").DataTable(),isInventoryTableLoading:!1})}),500))}}));case 4:case"end":return e.stop()}}),e,this)})),c=function(){var e=this,t=arguments;return new Promise((function(a,n){var r=l.apply(e,t);function c(e){S(r,a,n,c,o,"next",e)}function o(e){S(r,a,n,c,o,"throw",e)}c(void 0)}))},function(){return c.apply(this,arguments)})},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:this.state.isLoading?null:"hidden"},r.a.createElement(s.a,null)),r.a.createElement("div",{className:this.state.isLoading?"hidden":null},r.a.createElement("h3",null,"My PI Management Center"),r.a.createElement("div",{className:"panel"},r.a.createElement("div",{className:"panel-body"},r.a.createElement("h4",null,"Inventory of Marketing Network Registrations"),r.a.createElement("div",N({className:"col-sm-12"},"className","col-sm-12 "+(this.state.isInventoryTableLoading?null:"hidden")),r.a.createElement(s.a,null)),r.a.createElement("div",{className:"col-sm-12 "+(this.state.isInventoryTableLoading?"hidden":null)},r.a.createElement("table",{className:"table table-bordered inventory-of-marketing-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"First Name"),r.a.createElement("th",null,"Last Name"),r.a.createElement("th",null,"City"),r.a.createElement("th",null,"ST"),r.a.createElement("th",null,"Date PI Registered"),r.a.createElement("th",null,"Network PI e Mail"),r.a.createElement("th",null,"Business Phone"),r.a.createElement("th",null,r.a.createElement("a",{href:"#",title:"Formal Purchase Agreement","data-toggle":"tooltip","data-placement":"top"},"FPA")," in Play"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.registeredPIs.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.FirstName),r.a.createElement("td",null,e.LastName),r.a.createElement("td",null,e.User.City),r.a.createElement("td",null,e.User.State),r.a.createElement("td",null,e.User.SignupDate),r.a.createElement("td",null,r.a.createElement("a",{href:"mailto:"+e.User.Username},e.User.Username)," "),r.a.createElement("td",null,e.User.WorkNumber),r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement("button",{title:"Compose message","data-toggle":"tooltip","data-placement":"top",onClick:function(){console.log("openMessageModal(pi)")},className:"btn btn-primary"},r.a.createElement("i",{className:"fas fa-edit"})),r.a.createElement("button",{title:"Quick view profile","data-toggle":"tooltip","data-placement":"top",onClick:function(){console.log("openQuickViewModal(pi)")},className:"btn btn-info"},r.a.createElement("i",{className:"far fa-eye"}))))}))))))),r.a.createElement("div",{className:"panel"},r.a.createElement("div",{className:"panel-body"},r.a.createElement("h4",null,r.a.createElement("a",{href:"#",title:"Formal Purchase Agreement","data-toggle":"tooltip","data-placement":"top"},"FPA")," Activity of Registered Network PI"),r.a.createElement("div",N({className:"col-sm-12"},"className","col-sm-12 "+(this.state.isFpaActivityTableLoading?null:"hidden")),r.a.createElement(s.a,null)),r.a.createElement("div",N({className:"col-sm-12"},"className","col-sm-12 "+(this.state.isFpaActivityTableLoading?"hidden":null)),r.a.createElement("table",{className:"table table-bordered fpa-activity-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Asset Type"),r.a.createElement("th",null,"City"),r.a.createElement("th",null,"ST"),r.a.createElement("th",null,r.a.createElement("i",{className:"fas fa-graduation-cap"})),r.a.createElement("th",null,"Date of ",r.a.createElement("a",{href:"#",title:"Formal Purchase Agreement","data-toggle":"tooltip","data-placement":"top"},"FPA")),r.a.createElement("th",null,"Network PI e Mail"),r.a.createElement("th",null,"Business Phone"),r.a.createElement("th",null,r.a.createElement("a",{href:"#",title:"Formal Purchase Agreement","data-toggle":"tooltip","data-placement":"top"},"FPA")," in Play"),r.a.createElement("th",null))))))),r.a.createElement("div",{className:"panel"},r.a.createElement("div",{className:"panel-body"},r.a.createElement("h4",null,"Accounting Activity of Registered Network PI"),r.a.createElement("div",N({className:"col-sm-12"},"className","col-sm-12 "+(this.state.isAccountingActivityLoading?null:"hidden")),r.a.createElement(s.a,null)),r.a.createElement("div",N({className:"col-sm-12"},"className","col-sm-12 "+(this.state.isAccountingActivityLoading?"hidden":null)),r.a.createElement("table",{className:"table table-bordered accounting-activity-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Asset Type"),r.a.createElement("th",null,"City"),r.a.createElement("th",null,"ST"),r.a.createElement("th",null,r.a.createElement("i",{className:"fas fa-graduation-cap"})),r.a.createElement("th",null,"Date of Closing"),r.a.createElement("th",null,"Closing SP"),r.a.createElement("th",null,"USCRE Fee"),r.a.createElement("th",null,"JVMP $"),r.a.createElement("th",null,"Date Wired"),r.a.createElement("th",null))))))))))}}])&&w(t.prototype,a),n&&w(t,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n.Component),U=document.getElementById("pi-management-app");null!=U&&c.a.render(r.a.createElement(O,null),U)}});