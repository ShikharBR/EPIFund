!function(e){function t(t){for(var n,i,s=t[0],l=t[1],c=t[2],p=0,d=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);d.length;)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={9:0},o=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([1211,0]),a()}({1211:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),i=a.n(o);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,a,n,r,o,i){try{var s=e[o](i),l=s.value}catch(e){return void a(e)}s.done?t(l):Promise.resolve(l).then(n,r)}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function d(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=g(e);if(t){var r=g(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f(this,a)}}function f(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(p,e);var t,a,n,o,i,s=h(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=s.call(this,e)).state={operating:[{"Operating Company":""},{"Operating Company E-Mail":""},{"Officer First Name":""},{"Officer Last Name":""},{Address:""},{"Address 2":""},{City:""},{State:""},{"Zip Code":""},{Country:""},{"Work Number":""},{"Cell Number":""},{"Fax Number":""},{OperatingCompanyId:""}],holding:[{"Contract Owner":""},{"E-Mail":""},{"Officer First Name":""},{"Officer Last Name":""},{Address:""},{"Address 2":""},{City:""},{State:""},{"Zip Code":""},{Country:""},{"Work Number":""},{"Cell Number":""},{"Fax Number":""},{OperatingCompanyId:""},{HoldingCompanyId:""}]},t.sendClose=t.sendClose.bind(y(t)),t.handleChange=t.handleChange.bind(y(t)),t.saveData=t.saveData.bind(y(t)),t.updateCompany=t.updateCompany.bind(y(t)),t.operatingFromHolding=t.operatingFromHolding.bind(y(t)),t}return t=p,(a=[{key:"sendClose",value:function(){this.props.closed()}},{key:"handleChange",value:function(e,t){var a=[];"operating"===this.props.type&&(a=u(this.state.operating)),"holding"===this.props.type&&(a=u(this.state.holding)),a[t]=c({},e.target.name,e.target.value),this.setState(c({},this.props.type,a))}},{key:"saveData",value:(o=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],"operating"===this.props.type&&(t=u(this.state.operating)),"holding"===this.props.type&&(t=u(this.state.holding)),t=this.state[this.props.type],e.next=6,this.props.savedata(this.props.type,t);case 6:return e.next=8,this.sendClose();case 8:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(a,n){var r=o.apply(e,t);function i(e){l(r,a,n,i,s,"next",e)}function s(e){l(r,a,n,i,s,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})},{key:"updateCompany",value:function(e){var t=e.target.selectedIndex,a=e.target.childNodes[t].getAttribute("type");if("operating"===a){var n=api.tempGlobal.operating[e.target.value],r=[{"Operating Company":n.CompanyName},{"Operating Company E-Mail":n.Email},{"Officer First Name":n.FirstName},{"Officer Last Name":n.LastName},{Address:n.AddressLine1},{"Address 2":n.AddressLine2},{City:n.City},{State:n.State},{"Zip Code":n.Zip},{Country:n.Country},{"Work Number":n.WorkNumber},{"Cell Number":n.CellNumber},{"Fax Number":n.FaxNumber},{OperatingCompanyId:n.Id}];api.tempGlobal.OperatingCompanyId=n.Id,this.setState({operating:r}),this.props.updateCurrentOperatingData(r,n.CompanyName)}if("holding"===a)if(api.tempGlobal.OperatingCompanyId&&api.tempGlobal.OperatingCompanyId.length){var o=api.tempGlobal.holding[e.target.value],i=[{"Contract Owner":o.CompanyName},{"E-Mail":o.Email},{"Officer First Name":o.FirstName},{"Officer Last Name":o.LastName},{Address:o.AddressLine1},{"Address 2":o.AddressLine2},{City:o.City},{State:o.State},{"Zip Code":o.Zip},{Country:o.Country},{"Work Number":o.WorkNumber},{"Cell Number":o.CellNumber},{"Fax Number":o.FaxNumber},{OperatingCompanyId:api.tempGlobal.OperatingCompanyId},{HoldingCompanyId:o.Id}];api.tempGlobal.HoldingCompanyId=o.Id,this.setState({holding:i}),this.props.updateCurrentHoldingData(i,o.CompanyName)}else alert("Please select an operating company.")}},{key:"operatingFromHolding",value:function(){var e=[{"Operating Company":String(this.state.operating[0]["Operating Company"])},{"Operating Company E-Mail":String(this.props.holdingdata[1]["E-Mail"])},{"Officer First Name":String(this.props.holdingdata[2]["Officer First Name"])},{"Officer Last Name":String(this.props.holdingdata[3]["Officer Last Name"])},{Address:String(this.props.holdingdata[4].Address)},{"Address 2":String(this.props.holdingdata[5]["Address 2"])},{City:String(this.props.holdingdata[6].City)},{State:String(this.props.holdingdata[7].State)},{"Zip Code":String(this.props.holdingdata[8]["Zip Code"])},{Country:String(this.props.holdingdata[9].Country)},{"Work Number":String(this.props.holdingdata[10]["Work Number"])},{"Cell Number":String(this.props.holdingdata[11]["Cell Number"])},{"Fax Number":String(this.props.holdingdata[12]["Fax Number"])}];this.setState({operating:e}),this.props.updateCurrentOperatingData(e,"test")}},{key:"componentWillMount",value:function(){api.tempGlobal.operating.length&&"New Operating Company"!==api.tempGlobal.operating[0].CompanyName&&api.tempGlobal.operating.unshift({OperatingCompanyId:"",CompanyName:"New Operating Company",FirstName:"",LastName:"",Email:"",AddressLine1:"",AddressLine2:"",City:"",State:"",Country:"",Zip:"",WorkNumber:"",CellNumber:"",FaxNumber:""}),api.tempGlobal.holding.length&&"New Holding Company"!==api.tempGlobal.holding[0].CompanyName&&api.tempGlobal.holding.unshift({OperatingCompanyId:"",HoldingCompanyId:"",CompanyName:"New Holding Company",FirstName:"",LastName:"",Email:"",AddressLine1:"",AddressLine2:"",City:"",State:"",Country:"",Zip:"",WorkNumber:"",CellNumber:"",FaxNumber:""})}},{key:"componentDidMount",value:function(){this.props.currentdata.length>0&&this.setState(c({},this.props.type,this.props.currentdata))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"ohdrop"},r.a.createElement("div",{className:"topbar topbar_orange ohdrop_title"},"operating"===this.props.type?"Operating Company":"Holding Company",r.a.createElement("div",{className:"closebutton",onClick:this.sendClose},"Ã—")),r.a.createElement("div",{className:"ohdropcontent"},r.a.createElement("select",{onChange:this.updateCompany},"operating"===this.props.type?api.tempGlobal.operating.map((function(t,a){return t.CompanyName===e.props.currentoperatingname?r.a.createElement("option",{value:a,type:"operating",key:t.OperatingCompanyId,selected:!0},t.CompanyName):r.a.createElement("option",{value:a,type:"operating",key:t.OperatingCompanyId},t.CompanyName)})):api.tempGlobal.holding.map((function(t,a){return t.CompanyName===e.props.currentholdingname?r.a.createElement("option",{value:a,type:"holding",key:t.HoldingCompanyId,selected:!0},t.CompanyName):r.a.createElement("option",{value:a,type:"holding",key:t.HoldingCompanyId},t.CompanyName)}))),r.a.createElement("h1",null,"operating"===this.props.type&&r.a.createElement("div",{className:"submitbtn",style:{width:"100%",marginLeft:"-2px"},onClick:this.operatingFromHolding},"Auto-Populate from Holding Company")),r.a.createElement("div",{className:"ohdropfieldswrap"},"operating"===this.props.type?this.state.operating.map((function(t){var a=e.state.operating.indexOf(t),n=Object.keys(t)[0];return 13==a?r.a.createElement("input",{type:"text",name:n,value:e.state.operating[a][n],hidden:"hidden"}):r.a.createElement("div",{className:"ohdropfield",key:n},r.a.createElement("div",null,n),r.a.createElement("input",{type:"text",name:n,value:e.state.operating[a][n],onChange:function(t){return e.handleChange(t,a)}}))})):this.state.holding.map((function(t){var a=e.state.holding.indexOf(t),n=Object.keys(t)[0];return 13==a?r.a.createElement("input",{type:"text",name:n,value:e.state.holding[a][n],hidden:"hidden"}):r.a.createElement("div",{className:"ohdropfield",key:n},r.a.createElement("div",null,n),r.a.createElement("input",{type:"text",name:n,value:e.state.holding[a][n],onChange:function(t){return e.handleChange(t,a)}}))}))),r.a.createElement("div",{className:"modalfooter"},r.a.createElement("div",null),r.a.createElement("div",{className:"buttonwrap"},r.a.createElement("div",{className:"submitbtn smallbtn hvr-float-shadow",style:{width:"auto"},onClick:this.saveData},"Save")))))}}])&&d(t.prototype,a),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(n.Component);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function E(e,t,a,n,r,o,i){try{var s=e[o](i),l=s.value}catch(e){return void a(e)}s.done?t(l):Promise.resolve(l).then(n,r)}function k(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function i(e){E(o,n,r,i,s,"next",e)}function s(e){E(o,n,r,i,s,"throw",e)}i(void 0)}))}}function C(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=P(e);if(t){var r=P(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return N(this,a)}}function N(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(l,e);var t,a,n,o,i,s=O(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={show:0,type:"",aquisition:"",purchaseprice:"",terms:"",operating:[],holding:[],currentoperating:"Operating Company",currentholding:"Holding Company"},t.back=t.back.bind(A(t)),t.handleClose=t.handleClose.bind(A(t)),t.showDrop=t.showDrop.bind(A(t)),t.hideDrop=t.hideDrop.bind(A(t)),t.handleInput=t.handleInput.bind(A(t)),t.nextStep=t.nextStep.bind(A(t)),t.saveCompanyData=t.saveCompanyData.bind(A(t)),t.updateCurrentOperatingData=t.updateCurrentOperatingData.bind(A(t)),t.updateCurrentHoldingData=t.updateCurrentHoldingData.bind(A(t)),t.dateInput=r.a.createRef(),t}return t=l,(a=[{key:"nextStep",value:(i=k(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.dateInput.current.value.toString(),e.next=3,this.setState({aquisition:t});case 3:api.validateThatOnePopupWithCompanyInfoAndStuff(this.state,api.tempGlobal.newAsset,(function(e){e&&a.props.gonext(a.state,"add1")}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"handleInput",value:function(e){var t=e.target.value;"purchaseprice"===e.target.name&&(t=(t=t.replace(/,/g,"")).replace(/\$/g,""),t="$"+Number(t).toLocaleString()),"terms"===e.target.name?this.setState({terms:e.target[e.target.selectedIndex].id}):this.setState(w({},e.target.name,t))}},{key:"handleClose",value:function(){this.props.close()}},{key:"back",value:(o=k(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({aquisition:this.dateInput.current.value});case 2:return e.next=4,this.props.goback();case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"showDrop",value:function(e){this.state.show?this.setState({show:0,type:""}):this.setState({show:1,type:e})}},{key:"hideDrop",value:function(e){this.setState({show:0,type:""})}},{key:"componentDidMount",value:function(){var e=Object.assign({},this.props.data);this.props.data.aquisition&&"undefined"!==this.props.data.aquisition&&(this.dateInput.current.value=this.props.data.aquisition),this.setState(e),$(".popup-aq-date").datepicker({maxDate:new Date})}},{key:"saveCompanyData",value:function(e,t){var a,n=!1,r=t[0][Object.keys(t[0])],o="current"+this.state.type;if(r){var i,s,l="holding"===e?0:1,c={CompanyName:r,Email:t[1][Object.keys(t[1])],FirstName:t[2][Object.keys(t[2])],LastName:t[3][Object.keys(t[3])],AddressLine1:t[4][Object.keys(t[4])],AddressLine2:t[5][Object.keys(t[5])],City:t[6][Object.keys(t[6])],State:t[7][Object.keys(t[7])],Zip:t[8][Object.keys(t[8])],Country:t[9][Object.keys(t[9])],WorkNumber:t[10][Object.keys(t[10])],CellNumber:t[11][Object.keys(t[11])],FaxNumber:t[12][Object.keys(t[12])],Type:l};"operating"===e&&(t[13][Object.keys(t[13])]?(c.OperatingCompanyId=t[13][Object.keys(t[13])],i=!0):i=!1,this.setState((w(s={},e,t),w(s,o,r),s))),"holding"===e&&(api.tempGlobal.OperatingCompanyId?(c.OperatingCompanyId=api.tempGlobal.OperatingCompanyId,t[14][Object.keys(t[14])]?(c.HoldingCompanyId=t[14][Object.keys(t[14])],i=!0):i=!1,n=!0):alert("Please select an operating company.")),!0===i&&api.updateUserCompany(c,(function(e,t){if(e)throw e;alert("Company updated."),n=!0})),!1===i&&api.doesUserCompanyExist({CompanyName:r,Type:l},(function(a,r){if(a)throw a;!0===r.alreadyExists?alert("Company currently exists."):api.createUserCompany(c,(function(a,r){if(a)throw a;!0===r.Success?("holding"===e?(t[14].HoldingCompanyId=r.id,api.tempGlobal.HoldingCompanyId=r.id):"operating"===e&&(t[13].OperatingCompanyId=r.id,api.tempGlobal.OperatingCompanyId=r.id),alert("Successfully Created Company"),n=!0):alert("Error creating company, please contact support for assistance.")}))}))}else alert("Company name required.");n&&this.setState((w(a={},e,t),w(a,o,r),a))}},{key:"updateCurrentOperatingData",value:function(e,t){api.tempGlobal.OperatingCompanyId=e[13][Object.keys(e[13])],this.setState({operating:e,currentoperating:t})}},{key:"updateCurrentHoldingData",value:function(e,t){this.setState({holding:e,currentholding:t})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"modalwrap modal_big animated slideInRight faster"},r.a.createElement("div",{className:"topbar topbar_orange"},"Add Asset ",r.a.createElement("a",null,"- Step 1"),r.a.createElement("div",{className:"closebutton",onClick:function(){return e.props.close()}},"Ã—")),r.a.createElement("div",{className:"modal_contentwrap bigpad"},r.a.createElement("h1",null,"Please select your Operating Company and Holding Company"),r.a.createElement("div",{className:"pad40"}),r.a.createElement("div",{className:"dualwrap"},r.a.createElement("div",{className:"width48"},r.a.createElement("div",{className:"orangeselect",onClick:function(){return e.showDrop("operating")}},r.a.createElement("div",null,this.state.currentoperating.length<25?this.state.currentoperating:this.state.currentoperating.substr(0,22)+"..."),r.a.createElement("div",null,r.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/dev-uscreonline-content/toggleicons/downarrow.png"}))),"operating"===this.state.type&&r.a.createElement(b,{type:"operating",savedata:this.saveCompanyData,closed:this.hideDrop,updateCurrentOperatingData:this.updateCurrentOperatingData,currentdata:this.state.operating,currentoperatingname:this.state.currentoperating,holdingdata:this.state.holding})),r.a.createElement("div",{className:"width48"},r.a.createElement("div",{className:"orangeselect",onClick:function(){return e.showDrop("holding")}},r.a.createElement("div",null,this.state.currentholding.length<25?this.state.currentholding:this.state.currentholding.substr(0,22)+"..."),r.a.createElement("div",null,r.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/dev-uscreonline-content/toggleicons/downarrow.png"}))),"holding"===this.state.type&&r.a.createElement(b,{type:"holding",savedata:this.saveCompanyData,closed:this.hideDrop,updateCurrentHoldingData:this.updateCurrentHoldingData,currentdata:this.state.holding,currentholdingname:this.state.currentholding}))),r.a.createElement("div",{className:"dualwrap"},r.a.createElement("div",{className:"width48"},r.a.createElement("div",{className:"orangetitle"},"Original Aquisition Date"),r.a.createElement("input",{className:"orangeselect popup-aq-date",name:"aquisition",autocomplete:"off",ref:this.dateInput})),r.a.createElement("div",{className:"width48"},r.a.createElement("div",{className:"orangetitle"},"Original Purchase Price"),r.a.createElement("input",{className:"orangeselect",type:"text",value:this.state.purchaseprice,autocomplete:"off",onChange:this.handleInput,name:"purchaseprice"}))),r.a.createElement("div",{className:"width100"},r.a.createElement("div",{className:"orangetitle"},"Terms"),r.a.createElement("select",{className:"orangeselect width100",onChange:this.handleInput,name:"terms"},api.tempGlobal.sellerTerms.map((function(t){return t.val===e.state.terms?r.a.createElement("option",{id:t.id,key:t.id,name:t.id,selected:!0},t.val):r.a.createElement("option",{id:t.id,key:t.id,name:t.id},t.val)})))),r.a.createElement("div",{className:"modalfooter"},r.a.createElement("div",null),r.a.createElement("div",{className:"buttonwrap"},r.a.createElement("div",{className:"submitbtn submitorange top20 hvr-float-shadow",onClick:this.back},"Back"),r.a.createElement("div",{className:"submitbtn top20 hvr-float-shadow",onClick:this.nextStep},"Next")))))}}])&&C(t.prototype,a),n&&C(t,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(n.Component);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=G(e);if(t){var r=G(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return T(this,a)}}function T(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return R(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(i,e);var t,a,n,o=D(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={documents:[{"Title Insurance Policy":"File Upload"},{"Vesting Deed":"File Upload"},{"State Documentation":"File Upload"},{Other:"File Upload"}]},t.back=t.back.bind(R(t)),t.nextStep=t.nextStep.bind(R(t)),t.handleDrop=t.handleDrop.bind(R(t)),t.handleDragOver=t.handleDragOver.bind(R(t)),t.handleFileUpload=t.handleFileUpload.bind(R(t)),t}return t=i,(a=[{key:"back",value:function(){this.props.goback()}},{key:"nextStep",value:function(){api.tempGlobal.docTitleInsurancePolicy&&api.tempGlobal.docVestingDeed&&api.tempGlobal.docStateDocumentation?this.props.gonext(this.state,"add2"):alert("You didnt upload all the required documents! SHAME!!!!")}},{key:"handleFileUpload",value:function(e,t,a){var n=Object.assign({},this.state);n.documents[t][a]=e[0].name,this.setState(n),api.uploadFile(e,event.target.getAttribute("data-type"))}},{key:"handleDragOver",value:function(e){e.stopPropagation(),e.preventDefault()}},{key:"handleDrop",value:function(e,t,a){e.stopPropagation(),e.preventDefault();var n=Object.assign({},this.state);n.documents[t][a]=e.dataTransfer.files[0].name,this.setState(n),api.uploadFile(e.dataTransfer.files,e.target.getAttribute("data-type"))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"modalwrap modal_big animated slideInRight faster"},r.a.createElement("div",{className:"topbar topbar_orange"},"Claim Asset ",r.a.createElement("a",null,"- Step 2"),r.a.createElement("div",{className:"closebutton",onClick:function(){return e.props.close()}},"Ã—")),r.a.createElement("div",{className:"modal_contentwrap bigpad"},r.a.createElement("h1",{className:"h1bigfont"},"Please upload your proof of title documents here"),r.a.createElement("h2",{className:"h1bigfont"},"Maximum upload size 25MB"),r.a.createElement("div",{className:"pad40"}),r.a.createElement("div",{className:"flexwrap_spacebetween"},this.state.documents.map((function(t,a){var n=Object.keys(t)[0];return r.a.createElement("div",{key:n},r.a.createElement("h3",null,n),r.a.createElement("div",{className:"uploadwrap",draggable:"true","data-type":n,onDragOver:e.handleDragOver,onDrop:function(){return e.handleDrop(a,n)}},r.a.createElement("div",null,"Drag & Drop Files Here"),r.a.createElement("input",{className:"addclaim_fileinput",type:"file",name:n,"data-type":n,onChange:function(t){return e.handleFileUpload(t.target.files,a,n)}}),r.a.createElement("div",{className:"addclaim_filebutton"},e.state.documents[a][n])))}))),r.a.createElement("div",{className:"modalfooter"},r.a.createElement("div",null),r.a.createElement("div",{className:"buttonwrap"},r.a.createElement("div",{className:"submitbtn submitorange top20 hvr-float-shadow",onClick:this.back},"Back"),r.a.createElement("div",{className:"submitbtn top20 hvr-float-shadow",onClick:this.nextStep},"Next")))))}}])&&j(t.prototype,a),n&&j(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(n.Component);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=L(e);if(t){var r=L(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return q(this,a)}}function q(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(i,e);var t,a,n,o=z(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={documents:[{"Offering Memorandum":"File Upload"}]},t.back=t.back.bind(B(t)),t.nextStep=t.nextStep.bind(B(t)),t.skipStep=t.skipStep.bind(B(t)),t.handleDrop=t.handleDrop.bind(B(t)),t.handleDragOver=t.handleDragOver.bind(B(t)),t.handleFileUpload=t.handleFileUpload.bind(B(t)),t}return t=i,(a=[{key:"back",value:function(){this.props.goback()}},{key:"nextStep",value:function(){this.props.gonext(this.state,"add3")}},{key:"skipStep",value:function(){this.props.skipstep()}},{key:"handleFileUpload",value:function(e,t,a){var n=Object.assign({},this.state);n.documents[t][a]=e[0].name,this.setState(n),api.uploadFile(e,event.target.getAttribute("data-type"))}},{key:"handleDragOver",value:function(e){e.stopPropagation(),e.preventDefault()}},{key:"handleDrop",value:function(e,t,a){e.stopPropagation(),e.preventDefault();var n=Object.assign({},this.state);n.documents[t][a]=e.dataTransfer.files[0].name,this.setState(n),api.uploadFile(e.dataTransfer.files,e.target.getAttribute("data-type"))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"modalwrap modal_big animated slideInRight faster"},r.a.createElement("div",{className:"topbar topbar_orange"},"Add Asset ",r.a.createElement("a",null,"- Step 3"),r.a.createElement("div",{className:"closebutton",onClick:function(){return e.props.close()}},"Ã—")),r.a.createElement("div",{className:"modal_contentwrap bigpad"},r.a.createElement("h1",{className:"h1smallfont"},"Let us do the work for you! Upload your Asset's Offering Memorandum and we will populate your new Asset File at no charge. We will notify you when itâ€™s ready."),r.a.createElement("h2",{className:"h1bigfont"},"Maximum upload size 25MB per Document"),r.a.createElement("div",{className:"pad40"}),r.a.createElement("div",{className:"flexwrap_center"},this.state.documents.map((function(t,a){var n=Object.keys(t)[0];return r.a.createElement("div",{key:n,style:{justifySelf:"center"}},r.a.createElement("h3",null,n),r.a.createElement("div",{className:"uploadwrap",draggable:"true","data-type":n,onDragOver:e.handleDragOver,onDrop:function(){return e.handleDrop(a,n)}},r.a.createElement("div",null,"Drag & Drop Files Here"),r.a.createElement("input",{className:"addclaim_fileinput",type:"file",name:n,"data-type":n,onChange:function(t){return e.handleFileUpload(t.target.files,a,n)}}),r.a.createElement("div",{className:"addclaim_filebutton"},e.state.documents[a][n])))}))),r.a.createElement("div",{className:"modalfooter"},r.a.createElement("div",null),r.a.createElement("div",{className:"buttonwrap"},r.a.createElement("div",{className:"submitbtn submitorange top20 hvr-float-shadow",onClick:this.back},"Back"),r.a.createElement("div",{className:"submitbtn submitgrey top20 hvr-float-shadow",onClick:this.skipStep},"Skip"),r.a.createElement("div",{className:"submitbtn top20 hvr-float-shadow",onClick:this.nextStep},"Next")))))}}])&&H(t.prototype,a),n&&H(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(n.Component);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Q(e);if(t){var r=Q(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Y(this,a)}}function Y(e,t){if(t&&("object"===V(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return X(e)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(i,e);var t,a,n,o=K(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).redirectTo=t.redirectTo.bind(X(t)),t}return t=i,(a=[{key:"redirectTo",value:function(e){document.location.href=e}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"statusmodal_wrap"},r.a.createElement("div",{className:"statusmodal_title"},r.a.createElement("img",{alt:"",src:"https://s3-us-west-1.amazonaws.com/dev-uscreonline-content/claimasset_statusmodalicons/checkmark.png"}),r.a.createElement("h1",{style:{color:"#41ad49"}},"add"===this.props.type?"Add Asset":"Asset Claim"," ",r.a.createElement("strong",null,"Success!"))),r.a.createElement("div",{className:"statusmodal_textwrap"},!this.props.omStatus&&"Thank you for completing our Proof of Ownership protocol. USCRE will review your documentation and get back to you within 3 (three) business days. In the meantime, you are welcome to edit your Asset file, including adjusting any of the data fields and adding or remove images and videos as you please. Once your Proof of Ownership is approved, you will also be able to publish the Asset to your preferred audience.",this.props.omStatus&&"Thank you for completing our Proof of Ownership protocol and for uploading the Offering Memorandum. USCRE will review your documentation, populate your Asset file with data from your Offering Memorandum, and get back to you within 3 (three) business days. Please note that in the meantime, you will be able to view, but not edit, your new Asset file until data entry is complete. We will notify you as soon as itâ€™s ready!"),r.a.createElement("div",{className:"statusmodal_controlwrap"},r.a.createElement("div",{className:"statusmodal_greenbutton",onClick:function(){return e.redirectTo("/Admin/UpdateAssetVersion/".concat(e.props.link))}},"VIEW ASSET")))}}])&&Z(t.prototype,a),n&&Z(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(n.Component);function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=se(e);if(t){var r=se(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return oe(this,a)}}function oe(e,t){if(t&&("object"===te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ie(e)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}(i,e);var t,a,n,o=re(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={status:null,link:null},t.back=t.back.bind(ie(t)),t.nextStep=t.nextStep.bind(ie(t)),t}return t=i,(a=[{key:"back",value:function(){this.props.goback()}},{key:"nextStep",value:function(){var e=this;console.log(this.props);var t={AssetName:this.props.summarydata.assetname,AssetType:parseInt(this.props.summarydata.type),City:this.props.summarydata.city,State:this.props.summarydata.State,Address1:this.props.summarydata.address,County:this.props.summarydata.county,IsNote:this.props.summarydata.note,OperatingCompanyId:api.tempGlobal.OperatingCompanyId,HoldingCompanyId:api.tempGlobal.HoldingCompanyId,AquisitionDate:this.props.summarydata.aquisition,SellerTerm:parseInt(this.props.summarydata.terms),PurchasePrice:parseInt(this.props.summarydata.purchaseprice.replace(/,/g,"").replace(/\$/g,"")),Apns:this.props.summarydata.apns.map((function(e){return e.value}))};console.log("create asset payload",t),api.createAsset(t,(function(t,a){if(t)throw t;if(a.success){var n=new FormData;n.append("assetId",a.assetId),n.append("stateDocumentation",api.tempGlobal.docStateDocumentation),n.append("vestingDeed",api.tempGlobal.docVestingDeed),n.append("titleInsurancePolicy",api.tempGlobal.docTitleInsurancePolicy),n.append("other",api.tempGlobal.docOther),n.append("om",api.tempGlobal.docOm),api.uploadFilesForNewlyCreatedAsset(n,(function(t,n){if(t)throw t;n.success?api.tempGlobal.docOm?e.setState({status:"success_Om",link:a.assetId}):e.setState({status:"success_noOm",link:a.assetId}):alert("failed to upload files and/or create asset version(feels like too much processing for this method)")}))}else alert("failed to create asset, try again in the past. ".concat(a.message))}))}},{key:"componentWillMount",value:function(){this.props.getsummary()}},{key:"handleSlide",value:function(e){var t=this;switch(e){case null:return r.a.createElement("div",{className:"modalwrap modal_big animated slideInRight faster"},r.a.createElement("div",{className:"topbar topbar_orange"},"Add Asset ",r.a.createElement("a",null,"- Summary"),r.a.createElement("div",{className:"closebutton",onClick:function(){return t.props.close()}},"Ã—")),r.a.createElement("div",{className:"modal_contentwrap"},r.a.createElement("div",{className:"summarytitle"},this.props.summarydata.assetname),r.a.createElement("div",{className:"summarymain"},r.a.createElement("div",{className:"summarymain_top"},r.a.createElement("div",{className:"summarymain_pic"},"?",r.a.createElement("div",null,this.props.summarydata.city,", ",this.props.summarydata.county)),r.a.createElement("div",{className:"summarymain_top_right"},r.a.createElement("div",{className:"summarymain_top_right_left"},r.a.createElement("h2",null,"Property Address"),r.a.createElement("h3",null,this.props.summarydata.address),r.a.createElement("h3",null,this.props.summarydata.city,", ",this.props.summarydata.State),r.a.createElement("div",null,r.a.createElement("h2",null,this.props.summarydata.county))),r.a.createElement("div",{className:"summarymain_top_right_right"},r.a.createElement("div",null,r.a.createElement("h2",null,"Original Aquisition Date"),r.a.createElement("h3",null,this.props.summarydata.aquisition)),r.a.createElement("div",null,r.a.createElement("h2",null,"Original Purchase Price"),r.a.createElement("h1",null,this.props.summarydata.purchaseprice&&this.props.summarydata.purchaseprice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),r.a.createElement("div",null,this.props.summarydata.note&&r.a.createElement("h4",null,r.a.createElement("strong",null,"Note -")," Secured by Mixed Use Commercial Property"))))),r.a.createElement("div",{className:"dualwrap2"},r.a.createElement("div",{className:"summaryochc"},r.a.createElement("strong",null,"Holding Company:")," ",this.props.summarydata.holding),r.a.createElement("div",{className:"summaryochc"},r.a.createElement("strong",null,"Operating Company:")," ",this.props.summarydata.operating))),r.a.createElement("div",{className:"documentswrap"},r.a.createElement("div",{className:"documentitem di_uploaded di_small"},r.a.createElement("div",null,"Title Insurance Policy"),r.a.createElement("img",{alt:"",src:"https://i.imgur.com/zi2xAOz.png"})),r.a.createElement("div",{className:"documentitem di_uploaded di_small"},r.a.createElement("div",null,"Vesting Deed"),r.a.createElement("img",{alt:"",src:"https://i.imgur.com/zi2xAOz.png"})),api.tempGlobal.docOther?r.a.createElement("div",{className:"documentitem di_uploaded di_small"},r.a.createElement("div",null,"Other Documents"),r.a.createElement("img",{alt:"",src:"https://i.imgur.com/zi2xAOz.png"})):r.a.createElement("div",{className:"documentitem di_nouploaded di_small"},r.a.createElement("div",null,"Other Documents")),r.a.createElement("div",{className:"documentitem di_uploaded di_big"},r.a.createElement("div",null,"State Documentation"),r.a.createElement("img",{alt:"",src:"https://i.imgur.com/zi2xAOz.png"})),api.tempGlobal.docOm?r.a.createElement("div",{className:"documentitem di_uploaded di_big"},r.a.createElement("div",null,"Offering Memorandum"),r.a.createElement("img",{alt:"",src:"https://i.imgur.com/zi2xAOz.png"})):r.a.createElement("div",{className:"documentitem di_nouploaded di_big"},r.a.createElement("div",null,"Offering Memorandum"))),r.a.createElement("div",{className:"modalfooter"},r.a.createElement("div",{className:"footerextra footerapn"},r.a.createElement("strong",null,"APN #: ")," ",this.props.summarydata.apns&&this.props.summarydata.apns.map((function(e){return e.value})).join(", ")),r.a.createElement("div",{className:"buttonwrap"},r.a.createElement("div",{className:"submitbtn submitorange top20 hvr-float-shadow",onClick:this.back},"Back"),r.a.createElement("div",{className:"submitbtn top20 hvr-float-shadow",onClick:this.nextStep},"Create Asset")))));case"success_noOm":return r.a.createElement(ee,{omStatus:!1,link:this.state.link,type:"add"});case"success_Om":return r.a.createElement(ee,{omStatus:!0,link:this.state.link,type:"add"})}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.handleSlide(this.state.status))}}])&&ae(t.prototype,a),n&&ae(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(n.Component);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function pe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=ye(e);if(t){var r=ye(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return he(this,a)}}function he(e,t){if(t&&("object"===ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fe(e)}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}api.getICAPendingCounts();var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&de(e,t)}(i,e);var t,a,n,o=me(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={assetname:"",address:"",city:"",State:"",county:"",type:null,apns:[{value:""}],note:!1,claimasset:!1,apnresults:["123","234"],timeoutId:null},t.handleInput=t.handleInput.bind(fe(t)),t.addApn=t.addApn.bind(fe(t)),t.delApn=t.delApn.bind(fe(t)),t.updateApn=t.updateApn.bind(fe(t)),t.submit=t.submit.bind(fe(t)),t.handleChecked=t.handleChecked.bind(fe(t)),t.search=t.search.bind(fe(t)),t}return t=i,(a=[{key:"handleInput",value:function(e){this.setState(ue({},e.target.name,e.target.value)),console.log("<handleInput> ".concat(e.target.name),e.target.value),this.search()}},{key:"search",value:function(){var e=this;this.state.timeoutId&&(clearTimeout(this.state.timeoutId),this.state.timeoutId=null),this.state.timeoutId=setTimeout((function(){var t={};if(e.state.State&&e.state.county){t.State=e.state.State,t.County=e.state.county;for(var a=[],n=0;n<10;n++){var r=document.getElementById("".concat(n,"-apn"));if(!r)break;var o=r.value;o.length&&o.trim().length&&a.push({Key:n,Value:o.trim().toLowerCase()})}if(!a.length)return;t.Apns=a,api.searchAssets(t,(function(t,a){if(t)throw t;a.Assets.length?1===a.Assets.length?(console.log("assetId: ",a.Assets[0].AssetId),api.hasUserAlreadyClaimedAsset({assetId:a.Assets[0].AssetId},(function(t,n){if(t)throw t;n.isAlreadyClaimed?alert("You are already claiming this asset"):(api.tempGlobal.assets=[a.Assets[0]],e.setState({assetname:a.Assets[0].Name,city:a.Assets[0].City,State:a.Assets[0].State,county:a.Assets[0].County,address:a.Assets[0].Address1,type:parseInt(a.Assets[0].AssetType),note:a.Assets[0].IsNote,claimasset:!0}),e.submit("claim"))}))):(api.tempGlobal.assets=a.Assets,console.log("multiple assets found. no idea what to do")):e.setState({claimasset:!1})}))}}),1e3)}},{key:"handleChecked",value:function(e){this.setState(ue({},e.target.name,!this.state[e.target.name]))}},{key:"addApn",value:function(){var e=this.state.apns;e.push({value:""}),this.setState({apns:e})}},{key:"delApn",value:function(e){var t=this.state.apns;delete t[e],this.setState({apns:t})}},{key:"updateApn",value:function(e){var t=e.target.name,a=this.state.apns;a[t].value=e.target.value,console.log("state apns",a),this.setState({apns:a}),this.search()}},{key:"submit",value:function(e){var t=0;"add"===e?(t=1,api.tempGlobal.newAsset={assetName:this.state.assetname,address:this.state.address,city:this.state.city,state:this.state.State,type:this.state.type,apn:this.state.apns,isNote:this.state.note},api.tempGlobal.claimedAsset=null,this.state.type&&this.props.addinfo({addasset:this.state},t)):(t=2,api.tempGlobal.newAsset=null,api.tempGlobal.assets&&api.tempGlobal.assets.length?(api.tempGlobal.claimedAsset=api.tempGlobal.assets[0],this.props.addinfo({asset:api.tempGlobal.assets[0]},t),api.tempGlobal.assets.length>1&&console.log("****IDK HOW MULTI ASSET CLAIM IS SUPPOSED TO WORK*****")):alert("nothing to claim"))}},{key:"componentDidMount",value:function(){var e=Object.assign({},this.props.data.addasset);this.setState(e),api.getUserCompanies((function(e,t){if(e)throw e;api.tempGlobal.holding=t.holdingCompanies,api.tempGlobal.operating=t.operatingCompanies}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"modalwrap modal_addasset animated slideInRight faster"},r.a.createElement("div",{className:"topbar topbar_blue"},"Add Asset",r.a.createElement("div",{className:"closebutton",onClick:function(){return e.props.close()}},"Ã—")),r.a.createElement("div",{className:"modal_contentwrap"},r.a.createElement("div",{className:"inputwrap"},r.a.createElement("div",{className:"inputtitle"},"Asset Name"),r.a.createElement("input",{type:"text",placeholder:"Asset Name",value:this.state.assetname,onChange:this.handleInput,name:"assetname",id:"caAssetName"})),r.a.createElement("div",{className:"inputwrap"},r.a.createElement("div",{className:"inputtitle"},"Address"),r.a.createElement("input",{type:"text",placeholder:"Address",value:this.state.address,onChange:this.handleInput,name:"address",id:"caAddress"})),r.a.createElement("div",{className:"inputwrap flexdir_row"},r.a.createElement("div",{className:"inputmid"},r.a.createElement("div",{className:"inputtitle"},"City"),r.a.createElement("input",{type:"text",placeholder:"City",value:this.state.city,onChange:this.handleInput,name:"city",id:"caCity"})),r.a.createElement("div",{className:"inputsmall"},r.a.createElement("div",{className:"inputtitle"},"State"),r.a.createElement("select",{className:"inputstyle",onChange:this.handleInput,name:"State",id:"caState"},["","AL","AK","AS","AZ","AR","CA","CO","CT","DE","DC","FM","FL","GA","GU","HI","ID","IL","IN","IA","KS","KY","LA","ME","MH","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","MP","OH","OK","OR","PW","PA","PR","RI","SC","SD","TN","TX","UT","VT","VI","VA","WA","WV","WI","WY"].map((function(t){return e.state.State===t?r.a.createElement("option",{value:t,key:t,selected:!0},t):r.a.createElement("option",{value:t,key:t},t)})))),r.a.createElement("div",{className:"inputmid"},r.a.createElement("div",{className:"inputtitle"},"County"),r.a.createElement("input",{type:"text",placeholder:"County",value:this.state.county,onChange:this.handleInput,name:"county",id:"caCounty"}))),r.a.createElement("div",{className:"apnwrap"},r.a.createElement("div",{className:"apntop"},r.a.createElement("h3",null,"Assessorâ€™s Parcel # (APNs)"),r.a.createElement("div",{className:"bluebtn",onClick:this.addApn},"+")),this.state.apns.map((function(t,a){var n="".concat(a,"-apn");return r.a.createElement("div",{className:"apnitemwrap",key:a},r.a.createElement("input",{type:"text",placeholder:"Apn #",value:e.state.apns[a].value,onChange:e.updateApn,name:a,id:n}),r.a.createElement("div",{className:"delbtn",onClick:function(){return e.delApn(a)}},"Ã—"))}))),r.a.createElement("div",{className:"inputwrap"},r.a.createElement("div",{className:"inputtitle"},"Asset Type"),r.a.createElement("select",{className:"inputstyle maxwidth select40",name:"type",onChange:this.handleInput},[{key:null,val:null},{key:1,val:"Retail Tenant Property"},{key:2,val:"Office Tenant Property"},{key:3,val:"Multi-Family"},{key:4,val:"Industrial Tenant Property"},{key:5,val:"MHP"},{key:6,val:"Fuel Service Retail Property"},{key:7,val:"Medical Tenant Property"},{key:8,val:"Mixed Use Commercial Property"},{key:13,val:"Fractured Condominium Portfolios"},{key:14,val:"Mini-Storage Property"},{key:15,val:"Parking Garage Property"},{key:16,val:"Secured Private Notes"}].map((function(t){return t.val?e.state.type===t.key?r.a.createElement("option",{value:t.key,key:t.key,selected:!0},t.val):r.a.createElement("option",{value:t.key,key:t.key},t.val):r.a.createElement("option",{value:"",key:"0",selected:!0})})))),r.a.createElement("div",{className:"modalfooter"},r.a.createElement("div",{className:"footerextra"},r.a.createElement("input",{type:"checkbox",name:"note",onChange:this.handleChecked,checked:this.state.note}),r.a.createElement("div",null,"Note Asset")),r.a.createElement("div",{className:"buttonwrap"},!this.state.claimasset&&r.a.createElement("div",{className:"submitbtn hvr-float-shadow",onClick:function(){return e.submit("add")}},"Add Asset"),this.state.claimasset&&r.a.createElement("div",{className:"submitbtn submitorange hvr-float-shadow",onClick:function(){return e.submit("claim")}},"Claim Asset")))))}}])&&pe(t.prototype,a),n&&pe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(n.Component);function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Se(e);if(t){var r=Se(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return ke(this,a)}}function ke(e,t){if(t&&("object"===be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ce(e)}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&we(e,t)}(i,e);var t,a,n,o=Ee(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).back=t.back.bind(Ce(t)),t.nextStep=t.nextStep.bind(Ce(t)),t.getAssetType=t.getAssetType.bind(Ce(t)),t}return t=i,(a=[{key:"back",value:function(){this.props.goback()}},{key:"nextStep",value:function(){this.props.gonext(this.state,"claim1")}},{key:"getAssetType",value:function(e){switch(e){case 1:return"Retail Tenant Property";case 2:return"Office Tenant Property";case 3:return"Multi-Family";case 4:return"Industrial Tenant Property";case 5:return"MHP";case 6:return"Fuel Service Retail Property";case 7:return"Medical Tenant Property";case 8:return"Mixed Use Commercial Property";case 10:return"Other";case 11:return"Resort/Hotel/Motel Property";case 12:return"Single Tenant Property (All Type)";case 13:return"Fractured Condominium Portfolio's";case 14:return"Mini-Storage Property";case 15:return"Parking Garage Property";case 16:return"Secured CRE Paper";case 17:return"Land";default:return"?"}}},{key:"render",value:function(){var e,t=this;return console.log(api.tempGlobal.claimedAsset),api.tempGlobal.claimedAsset.Image&&(e="http://images.uscreonline.com/".concat(api.tempGlobal.claimedAsset.AssetId,"/").concat(api.tempGlobal.claimedAsset.Image.FileName)),r.a.createElement("div",{className:"modalwrap modal_med animated slideInRight faster"},r.a.createElement("div",{className:"topbar topbar_orange"},"Asset Found",r.a.createElement("div",{className:"closebutton",onClick:function(){return t.props.close()}},"Ã—")),r.a.createElement("div",{className:"modal_contentwrap"},r.a.createElement("div",{className:"summarytitle"},api.tempGlobal.claimedAsset.Name),r.a.createElement("div",{className:"summarymain summarymain_thin"},r.a.createElement("div",{className:"summarymain_top summarymain_top_small"},r.a.createElement("div",{className:"summarymain_pic summarymain_pic_small"},e&&r.a.createElement("img",{src:e,width:"248px",height:"168px"}),!e&&r.a.createElement("span",null,"?")),r.a.createElement("div",{className:"summarymain_top_right summarymain_top_right_small"},r.a.createElement("div",{className:"summarymain_top_right_right summarymain_top_right_right_small"},r.a.createElement("div",{className:"flexheight100"},r.a.createElement("h2",null,api.tempGlobal.claimedAsset.Address1),r.a.createElement("h2",null,api.tempGlobal.claimedAsset.Address2),r.a.createElement("h3",null,api.tempGlobal.claimedAsset.City,", ",api.tempGlobal.claimedAsset.State),r.a.createElement("h3",null,api.tempGlobal.claimedAsset.County," County"),api.tempGlobal.claimedAsset.IsMultiFamily&&r.a.createElement("h2",null,api.tempGlobal.claimedAsset.Units," Units"),!api.tempGlobal.claimedAsset.IsMultiFamily&&r.a.createElement("h2",null,api.tempGlobal.claimedAsset.LotSize," Lot"),r.a.createElement("h2",null,Number(api.tempGlobal.claimedAsset.SqFt).toLocaleString()," Sq. Ft.")))))),r.a.createElement("div",{className:"modalfooter"},r.a.createElement("div",{className:"footerextra"},r.a.createElement("div",null,r.a.createElement("h3",null,this.getAssetType(api.tempGlobal.claimedAsset.AssetType)))),r.a.createElement("div",{className:"buttonwrap pad20"},r.a.createElement("div",{className:"submitbtn hvr-float-shadow",onClick:this.back},"Back"),r.a.createElement("div",{className:"submitbtn submitorange",onClick:this.nextStep},"Claim Asset")))))}}])&&ve(t.prototype,a),n&&ve(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(n.Component);function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Pe(e,t,a,n,r,o,i){try{var s=e[o](i),l=s.value}catch(e){return void a(e)}s.done?t(l):Promise.resolve(l).then(n,r)}function _e(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function i(e){Pe(o,n,r,i,s,"next",e)}function s(e){Pe(o,n,r,i,s,"throw",e)}i(void 0)}))}}function Ie(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Re(e);if(t){var r=Re(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return De(this,a)}}function De(e,t){if(t&&("object"===Ne(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Te(e)}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&je(e,t)}(l,e);var t,a,n,o,i,s=xe(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={show:0,type:"",aquisition:"",purchaseprice:"",terms:"",operating:[],holding:[],currentoperating:"Operating Company",currentholding:"Holding Company"},t.back=t.back.bind(Te(t)),t.handleClose=t.handleClose.bind(Te(t)),t.showDrop=t.showDrop.bind(Te(t)),t.hideDrop=t.hideDrop.bind(Te(t)),t.handleInput=t.handleInput.bind(Te(t)),t.nextStep=t.nextStep.bind(Te(t)),t.saveCompanyData=t.saveCompanyData.bind(Te(t)),t.updateCurrentOperatingData=t.updateCurrentOperatingData.bind(Te(t)),t.updateCurrentHoldingData=t.updateCurrentHoldingData.bind(Te(t)),t.dateInput=r.a.createRef(),t}return t=l,(a=[{key:"nextStep",value:(i=_e(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.dateInput.current.value.toString(),e.next=3,this.setState({aquisition:t});case 3:api.validateThatOnePopupWithCompanyInfoAndStuff(this.state,api.tempGlobal.claimedAsset,(function(e){e&&a.props.gonext(a.state,"claim2")}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"handleInput",value:function(e){var t=e.target.value;"purchaseprice"===e.target.name&&(t=(t=t.replace(/,/g,"")).replace(/\$/g,""),t="$"+Number(t).toLocaleString()),this.setState(Ae({},e.target.name,t))}},{key:"handleClose",value:function(){this.props.close()}},{key:"back",value:(o=_e(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({aquisition:this.dateInput.current.value});case 2:return e.next=4,this.props.goback();case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"showDrop",value:function(e){this.state.show?this.setState({show:0,type:""}):this.setState({show:1,type:e})}},{key:"hideDrop",value:function(e){this.setState({show:0,type:""})}},{key:"componentDidMount",value:function(){var e=Object.assign({},this.props.data);this.props.data.aquisition&&"undefined"!==this.props.data.aquisition&&(this.dateInput.current.value=this.props.data.aquisition),this.setState(e),$(".popup-aq-date").datepicker({maxDate:new Date})}},{key:"saveCompanyData",value:function(e,t){var a,n=!1,r=t[0][Object.keys(t[0])],o="current"+this.state.type;if(r){var i,s,l="holding"===e?0:1,c={CompanyName:r,Email:t[1][Object.keys(t[1])],FirstName:t[2][Object.keys(t[2])],LastName:t[3][Object.keys(t[3])],AddressLine1:t[4][Object.keys(t[4])],AddressLine2:t[5][Object.keys(t[5])],City:t[6][Object.keys(t[6])],State:t[7][Object.keys(t[7])],Zip:t[8][Object.keys(t[8])],Country:t[9][Object.keys(t[9])],WorkNumber:t[10][Object.keys(t[10])],CellNumber:t[11][Object.keys(t[11])],FaxNumber:t[12][Object.keys(t[12])],Type:l};"operating"===e&&(t[13][Object.keys(t[13])]?(c.OperatingCompanyId=t[13][Object.keys(t[13])],i=!0):i=!1,this.setState((Ae(s={},e,t),Ae(s,o,r),s))),"holding"===e&&(api.tempGlobal.OperatingCompanyId?(c.OperatingCompanyId=api.tempGlobal.OperatingCompanyId,t[14][Object.keys(t[14])]?(c.HoldingCompanyId=t[14][Object.keys(t[14])],i=!0):i=!1,n=!0):alert("Please select an operating company.")),!0===i&&api.updateUserCompany(c,(function(e,t){if(e)throw e;alert("Company updated."),n=!0})),!1===i&&api.doesUserCompanyExist({CompanyName:r,Type:l},(function(a,r){if(a)throw a;!0===r.alreadyExists?alert("Company currently exists."):api.createUserCompany(c,(function(a,r){if(a)throw a;!0===r.Success?("holding"===e?(t[14].HoldingCompanyId=r.id,api.tempGlobal.HoldingCompanyId=r.id):"operating"===e&&(t[13].OperatingCompanyId=r.id,api.tempGlobal.OperatingCompanyId=r.id),alert("Successfully Created Company"),n=!0):alert("Error creating company, please contact support for assistance.")}))}))}else alert("Company name required.");n&&this.setState((Ae(a={},e,t),Ae(a,o,r),a))}},{key:"updateCurrentOperatingData",value:function(e,t){this.setState({operating:e,currentoperating:t})}},{key:"updateCurrentHoldingData",value:function(e,t){this.setState({holding:e,currentholding:t})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"modalwrap modal_big animated slideInRight faster"},r.a.createElement("div",{className:"topbar topbar_orange"},"Claim Asset ",r.a.createElement("a",null,"- Step 1"),r.a.createElement("div",{className:"closebutton",onClick:function(){return e.props.close()}},"Ã—")),r.a.createElement("div",{className:"modal_contentwrap bigpad"},r.a.createElement("h1",null,"Please select your Operating Company and Holding Company"),r.a.createElement("div",{className:"pad40"}),r.a.createElement("div",{className:"dualwrap"},r.a.createElement("div",{className:"width48"},r.a.createElement("div",{className:"orangeselect",onClick:function(){return e.showDrop("operating")}},r.a.createElement("div",null,this.state.currentoperating.length<25?this.state.currentoperating:this.state.currentoperating.substr(0,22)+"..."),r.a.createElement("div",null,r.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/dev-uscreonline-content/toggleicons/downarrow.png"}))),"operating"===this.state.type&&r.a.createElement(b,{type:"operating",savedata:this.saveCompanyData,closed:this.hideDrop,updateCurrentOperatingData:this.updateCurrentOperatingData,currentdata:this.state.operating,currentoperatingname:this.state.currentoperating,holdingdata:this.state.holding})),r.a.createElement("div",{className:"width48"},r.a.createElement("div",{className:"orangeselect",onClick:function(){return e.showDrop("holding")}},r.a.createElement("div",null,this.state.currentholding.length<25?this.state.currentholding:this.state.currentholding.substr(0,22)+"..."),r.a.createElement("div",null,r.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/dev-uscreonline-content/toggleicons/downarrow.png"}))),"holding"===this.state.type&&r.a.createElement(b,{type:"holding",savedata:this.saveCompanyData,closed:this.hideDrop,updateCurrentHoldingData:this.updateCurrentHoldingData,currentdata:this.state.holding,currentholdingname:this.state.currentholding}))),r.a.createElement("div",{className:"dualwrap"},r.a.createElement("div",{className:"width48"},r.a.createElement("div",{className:"orangetitle"},"Original Aquisition Date"),r.a.createElement("input",{className:"orangeselect popup-aq-date",name:"aquisition",autocomplete:"off",ref:this.dateInput})),r.a.createElement("div",{className:"width48"},r.a.createElement("div",{className:"orangetitle"},"Original Purchase Price"),r.a.createElement("input",{className:"orangeselect",type:"text",value:this.state.purchaseprice,autocomplete:"off",onChange:this.handleInput,name:"purchaseprice"}))),r.a.createElement("div",{className:"width100"},r.a.createElement("div",{className:"orangetitle"},"Terms"),r.a.createElement("select",{className:"orangeselect width100",onChange:this.handleInput,name:"terms"},api.tempGlobal.sellerTerms.map((function(t){return t.val===e.state.terms?r.a.createElement("option",{key:t.id,name:t.val,selected:!0},t.val):r.a.createElement("option",{key:t.id,name:t.val},t.val)})))),r.a.createElement("div",{className:"modalfooter"},r.a.createElement("div",null),r.a.createElement("div",{className:"buttonwrap"},r.a.createElement("div",{className:"submitbtn submitorange top20 hvr-float-shadow",onClick:this.back},"Back"),r.a.createElement("div",{className:"submitbtn top20 hvr-float-shadow",onClick:this.nextStep},"Next")))))}}])&&Ie(t.prototype,a),n&&Ie(t,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(n.Component);function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Be(e);if(t){var r=Be(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return ze(this,a)}}function ze(e,t){if(t&&("object"===Me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qe(e)}function qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&He(e,t)}(i,e);var t,a,n,o=Ue(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={documents:[{"Title Insurance Policy":"File Upload"},{"Vesting Deed":"File Upload"},{"State Documentation":"File Upload"},{Other:"File Upload"}]},t.back=t.back.bind(qe(t)),t.nextStep=t.nextStep.bind(qe(t)),t.handleDrop=t.handleDrop.bind(qe(t)),t.handleDragOver=t.handleDragOver.bind(qe(t)),t.handleFileUpload=t.handleFileUpload.bind(qe(t)),t}return t=i,(a=[{key:"back",value:function(){this.props.goback()}},{key:"nextStep",value:function(){api.tempGlobal.docTitleInsurancePolicy&&api.tempGlobal.docVestingDeed&&api.tempGlobal.docStateDocumentation?this.props.gonext(this.state,"claim3"):alert("You didnt upload all the required documents! SHAME!!!!")}},{key:"handleFileUpload",value:function(e,t,a){var n=Object.assign({},this.state);n.documents[t][a]=e[0].name,this.setState(n),api.uploadFile(e,event.target.getAttribute("data-type"))}},{key:"handleDragOver",value:function(e){e.stopPropagation(),e.preventDefault()}},{key:"handleDrop",value:function(e,t,a){e.stopPropagation(),e.preventDefault();var n=Object.assign({},this.state);n.documents[t][a]=e.dataTransfer.files[0].name,this.setState(n),api.uploadFile(e.dataTransfer.files,e.target.getAttribute("data-type"))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"modalwrap modal_big animated slideInRight faster"},r.a.createElement("div",{className:"topbar topbar_orange"},"Claim Asset ",r.a.createElement("a",null,"- Step 2"),r.a.createElement("div",{className:"closebutton",onClick:function(){return e.props.close()}},"Ã—")),r.a.createElement("div",{className:"modal_contentwrap bigpad"},r.a.createElement("h1",{className:"h1bigfont"},"Please upload your proof of title documents here"),r.a.createElement("h2",{className:"h1bigfont"},"Maximum upload size 25MB"),r.a.createElement("div",{className:"pad40"}),r.a.createElement("div",{className:"flexwrap_spacebetween"},this.state.documents.map((function(t,a){var n=Object.keys(t)[0];return r.a.createElement("div",{key:n},r.a.createElement("h3",null,n),r.a.createElement("div",{className:"uploadwrap",draggable:"true","data-type":n,onDragOver:e.handleDragOver,onDrop:function(){return e.handleDrop(a,n)}},r.a.createElement("div",null,"Drag & Drop Files Here"),r.a.createElement("input",{className:"addclaim_fileinput",type:"file",name:n,"data-type":n,onChange:function(t){return e.handleFileUpload(t.target.files,a,n)}}),r.a.createElement("div",{className:"addclaim_filebutton"},e.state.documents[a][n])))}))),r.a.createElement("div",{className:"modalfooter"},r.a.createElement("div",null),r.a.createElement("div",{className:"buttonwrap"},r.a.createElement("div",{className:"submitbtn submitorange top20 hvr-float-shadow",onClick:this.back},"Back"),r.a.createElement("div",{className:"submitbtn top20 hvr-float-shadow",onClick:this.nextStep},"Next")))))}}])&&Fe(t.prototype,a),n&&Fe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(n.Component);function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Ye(e);if(t){var r=Ye(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Je(this,a)}}function Je(e,t){if(t&&("object"===We(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ke(e)}function Ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ze(e,t)}(i,e);var t,a,n,o=$e(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={status:null},t.back=t.back.bind(Ke(t)),t.nextStep=t.nextStep.bind(Ke(t)),t.getAssetType=t.getAssetType.bind(Ke(t)),t.handleSlide=t.handleSlide.bind(Ke(t)),t}return t=i,(a=[{key:"back",value:function(){this.props.goback()}},{key:"nextStep",value:function(){var e=this;api.claimAsset({assetId:api.tempGlobal.claimedAsset.AssetId,operatingCompanyId:api.tempGlobal.OperatingCompanyId,holdingCompanyId:api.tempGlobal.HoldingCompanyId,aquisitionDate:api.tempGlobal.claimedAsset.aquisition,sellerTerm:api.tempGlobal.claimedAsset.sellertermId,purchasePrice:api.tempGlobal.claimedAsset.purchaseprice},(function(t,a){if(t)throw t;var n=new FormData;n.append("assetId",api.tempGlobal.claimedAsset.AssetId),n.append("stateDocumentation",api.tempGlobal.docStateDocumentation),n.append("vestingDeed",api.tempGlobal.docVestingDeed),n.append("titleInsurancePolicy",api.tempGlobal.docTitleInsurancePolicy),n.append("other",api.tempGlobal.docOther),api.uploadFilesForClaimAsset(n,(function(a,n){if(a)throw t;e.setState({status:"success"})}))}))}},{key:"componentWillMount",value:function(){this.props.getsummary()}},{key:"getAssetType",value:function(e){switch(e){case 1:return"Retail Tenant Property";case 2:return"Office Tenant Property";case 3:return"Multi-Family";case 4:return"Industrial Tenant Property";case 5:return"MHP";case 6:return"Fuel Service Retail Property";case 7:return"Medical Tenant Property";case 8:return"Mixed Use Commercial Property";case 10:return"Other";case 11:return"Resort/Hotel/Motel Property";case 12:return"Single Tenant Property (All Type)";case 13:return"Fractured Condominium Portfolio's";case 14:return"Mini-Storage Property";case 15:return"Parking Garage Property";case 16:return"Secured CRE Paper";case 17:return"Land";default:return"?"}}},{key:"handleSlide",value:function(e){var t,a=this;switch(api.tempGlobal.claimedAsset.Image&&(t="http://images.uscreonline.com/".concat(api.tempGlobal.claimedAsset.AssetId,"/").concat(api.tempGlobal.claimedAsset.Image.FileName)),e){case null:return r.a.createElement("div",{className:"modalwrap modal_big animated slideInRight faster"},r.a.createElement("div",{className:"topbar topbar_orange"},"Claim Asset ",r.a.createElement("a",null,"- Summary"),r.a.createElement("div",{className:"closebutton",onClick:function(){return a.props.close()}},"Ã—")),r.a.createElement("div",{className:"modal_contentwrap"},r.a.createElement("div",{className:"summarytitle"},api.tempGlobal.claimedAsset.Name," - ",this.getAssetType(api.tempGlobal.assets[0].AssetType)),r.a.createElement("div",{className:"summarymain"},r.a.createElement("div",{className:"summarymain_top"},r.a.createElement("div",{className:"summarymain_pic"},t&&r.a.createElement("img",{src:t,width:"100%",height:"100%"}),!t&&r.a.createElement("span",null,"?")),r.a.createElement("div",{className:"summarymain_top_right"},r.a.createElement("div",{className:"summarymain_top_right_left"},r.a.createElement("h2",null,"Property Address"),r.a.createElement("h3",null,this.props.summarydata.address),this.props.summarydata.address2&&r.a.createElement("h3",null,this.props.summarydata.address2),r.a.createElement("h3",null,this.props.summarydata.city,", ",this.props.summarydata.State),r.a.createElement("h2",null,this.props.summarydata.county," County"),r.a.createElement("div",null,this.props.summarydata.note&&r.a.createElement("h4",null,r.a.createElement("strong",null,"Note -")," Secured by Mixed Use Commercial Property"))),r.a.createElement("div",{className:"summarymain_top_right_right"},r.a.createElement("div",null,r.a.createElement("h6",{style:{fontSize:"20px !important"}},"Original Purchase Price"),r.a.createElement("h1",null,this.props.summarydata.purchaseprice&&this.props.summarydata.purchaseprice),r.a.createElement("h1",{className:"h1extrasmall"},"Aquisition Date: ",this.props.summarydata.aquisition),api.tempGlobal.assets[0].Units?r.a.createElement("h6",null,api.tempGlobal.assets[0].Units+" Units"):r.a.createElement("h6",null," "),api.tempGlobal.assets[0].SqFt?r.a.createElement("h6",null,api.tempGlobal.assets[0].SqFt.toLocaleString()+" Sq. Ft."):r.a.createElement("h6",null," "))))),r.a.createElement("div",{className:"dualwrap2"},r.a.createElement("div",{className:"summaryochc"},r.a.createElement("strong",null,"Holding Company:")," ",this.props.summarydata.holding),r.a.createElement("div",{className:"summaryochc"},r.a.createElement("strong",null,"Operating Company:")," ",this.props.summarydata.operating))),r.a.createElement("div",{className:"documentswrap"},r.a.createElement("div",{className:"documentitem di_uploaded di_small"},r.a.createElement("div",null,"Title Insurance Policy"),r.a.createElement("img",{alt:"",src:"https://i.imgur.com/zi2xAOz.png"})),r.a.createElement("div",{className:"documentitem di_uploaded di_small"},r.a.createElement("div",null,"Vesting Deed"),r.a.createElement("img",{alt:"",src:"https://i.imgur.com/zi2xAOz.png"})),api.tempGlobal.docOther?r.a.createElement("div",{className:"documentitem di_uploaded di_small"},r.a.createElement("div",null,"Other Documents"),r.a.createElement("img",{alt:"",src:"https://i.imgur.com/zi2xAOz.png"})):r.a.createElement("div",{className:"documentitem di_nouploaded di_small"},r.a.createElement("div",null,"Other Documents")),r.a.createElement("div",{className:"documentitem di_uploaded di_big"},r.a.createElement("div",null,"State Documentation"),r.a.createElement("img",{alt:"",src:"https://i.imgur.com/zi2xAOz.png"}))),r.a.createElement("div",{className:"modalfooter"},r.a.createElement("div",{className:"footerextra footerapn"},r.a.createElement("strong",null,"APN #: ")," ",this.props.summarydata.apns&&Object.keys(this.props.summarydata.apns[0]).map((function(e){if(a.props.summarydata.apns[0][e])return a.props.summarydata.apns[0][e]})).join(", ")),r.a.createElement("div",{className:"buttonwrap"},r.a.createElement("div",{className:"submitbtn submitorange top20 hvr-float-shadow",onClick:this.back},"Back"),r.a.createElement("div",{className:"submitbtn top20 hvr-float-shadow",onClick:this.nextStep},"Claim Asset")))));case"success":return r.a.createElement(ee,{link:api.tempGlobal.claimedAsset.AssetId,type:"claim"})}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.handleSlide(this.state.status))}}])&&Ve(t.prototype,a),n&&Ve(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(n.Component);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=it(e);if(t){var r=it(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return rt(this,a)}}function rt(e,t){if(t&&("object"===Qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ot(e)}function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var st=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&at(e,t)}(i,e);var t,a,n,o=nt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={step:0,addasset:{},add1:{},add2:{},add3:{},add4:{},addsummarydata:{},claim1:{},claim2:{},claim3:{},claim4:{},claimsummarydata:{}},t.addInfo=t.addInfo.bind(ot(t)),t.backStep=t.backStep.bind(ot(t)),t.goNext=t.goNext.bind(ot(t)),t.skipStep=t.skipStep.bind(ot(t)),t.getAddSummary=t.getAddSummary.bind(ot(t)),t.getClaimSummary=t.getClaimSummary.bind(ot(t)),t.sendClose=t.sendClose.bind(ot(t)),t}return t=i,(a=[{key:"sendClose",value:function(){this.props.closepop()}},{key:"goNext",value:function(e,t){var a=Number((this.state.step+.1).toFixed(1));this.setState(et({step:a},t,e))}},{key:"addInfo",value:function(e,t){this.setState({addasset:e,step:t})}},{key:"backStep",value:function(){if(1!==this.state.step&&2!==this.state.step||this.setState({step:0}),this.state.step%1!=0){var e=Number((this.state.step-.1).toFixed(1));this.setState({step:e})}}},{key:"skipStep",value:function(){var e=Number((this.state.step+.1).toFixed(1));this.setState({step:e})}},{key:"getAddSummary",value:function(){var e;console.log("add1: ",this.state.add1),console.log("addasset: ",this.state.addasset);var t=(et(e={State:this.state.addasset.addasset.State,address:this.state.addasset.addasset.address,apns:this.state.addasset.addasset.apns,assetname:this.state.addasset.addasset.assetname},"address",this.state.addasset.addasset.address),et(e,"city",this.state.addasset.addasset.city),et(e,"county",this.state.addasset.addasset.county),et(e,"note",this.state.addasset.addasset.note),et(e,"type",this.state.addasset.addasset.type),et(e,"aquisition",this.state.add1.aquisition),et(e,"purchaseprice",this.state.add1.purchaseprice),et(e,"holding",this.state.add1.currentholding),et(e,"operating",this.state.add1.currentoperating),et(e,"holdingid",this.state.add1.holding[14].HoldingCompanyId),et(e,"operatingid",this.state.add1.operating[13].OperatingCompanyId),et(e,"terms",this.state.add1.terms),e);this.setState({addsummarydata:t})}},{key:"getClaimSummary",value:function(){var e={State:this.state.addasset.asset.State,address:this.state.addasset.asset.Address1,address2:this.state.addasset.asset.Address2,apns:this.state.addasset.asset.Apns,assetname:this.state.addasset.asset.Name,city:this.state.addasset.asset.City,county:this.state.addasset.asset.County,note:this.state.addasset.asset.IsNote,type:this.state.addasset.asset.AssetType,aquisition:this.state.claim2.aquisition,purchaseprice:this.state.claim2.purchaseprice,holding:this.state.claim2.currentholding,operating:this.state.claim2.currentoperating};this.setState({claimsummarydata:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"modal_backdrop"},!this.state.step&&r.a.createElement(ge,{addinfo:this.addInfo,data:this.state.addasset,close:this.sendClose}),1===this.state.step&&r.a.createElement(_,{goback:this.backStep,gonext:this.goNext,data:this.state.add1,close:this.sendClose}),1.1===this.state.step&&r.a.createElement(M,{goback:this.backStep,gonext:this.goNext,data:this.state.add2,close:this.sendClose}),1.2===this.state.step&&r.a.createElement(W,{goback:this.backStep,gonext:this.goNext,data:this.state.add3,skipstep:this.skipStep,close:this.sendClose}),1.3===this.state.step&&r.a.createElement(le,{goback:this.backStep,data:this.state.add4,getsummary:this.getAddSummary,summarydata:this.state.addsummarydata,close:this.sendClose}),2===this.state.step&&r.a.createElement(Oe,{goback:this.backStep,gonext:this.goNext,close:this.sendClose}),2.1===this.state.step&&r.a.createElement(Ge,{goback:this.backStep,gonext:this.goNext,data:this.state.claim2,close:this.sendClose}),2.2===this.state.step&&r.a.createElement(Le,{goback:this.backStep,gonext:this.goNext,data:this.state.claim3,close:this.sendClose}),2.3===this.state.step&&r.a.createElement(Xe,{goback:this.backStep,data:this.state.claim4,getsummary:this.getClaimSummary,summarydata:this.state.claimsummarydata,close:this.sendClose})))}}])&&tt(t.prototype,a),n&&tt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(n.Component);String.prototype.trunc=String.prototype.trunc||function(e){return this.length>e?this.substr(0,e-1)+"&hellip;":this};var lt=st;function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e){return function(e){if(Array.isArray(e))return pt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return pt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ht(e,t,a){return t&&mt(e.prototype,t),a&&mt(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function ft(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yt(e,t)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=wt(e);if(t){var r=wt(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return bt(this,a)}}function bt(e,t){if(t&&("object"===ct(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vt(e)}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Et={ICAPendingAssetCount:5,ICAPendingInvoiceCount:5};fetch("/Home/GetICAPendingCounts").then((function(e){return e.json()})).then((function(e){Et={ICAPendingAssetCount:e.ICAPendingAssetCount,ICAPendingInvoiceCount:e.ICAPendingInvoiceCount}}));var kt=function(e){ft(a,e);var t=gt(a);function a(e){var n;return dt(this,a),(n=t.call(this,e)).state={directory:[{page:"home",subpages:[],link:"/",showsub:!1,highlighted:!1},{page:"cre asset search",subpages:[],link:"/DataPortal/AssetSearchView",showsub:!1,highlighted:!1},{page:"principal investor introduction",subpages:[],link:"/Home/RegistrationIntro",showsub:!1,highlighted:!1},{page:"cre industry service provider introduction",subpages:[],link:"/Home/JointVentureMarketing",showsub:!1,highlighted:!1},{page:"Independent Contractor Employment Opportunity",subpages:[],link:"/Home/EmploymentOpportunities",showsub:!1,highlighted:!1},{page:"uscre: global data portal",subpages:[],link:"/DataPortal/DataPortal",showsub:!1,highlighted:!1},{page:"Global Service Provider Members",subpages:[],link:"/General/UnderConstruction",showsub:!1,highlighted:!1},{page:"Global CRE Membership Organizations",subpages:[],link:"/Home/Affiliations",showsub:!1,highlighted:!1}],currentpage:""},n.showSub=n.showSub.bind(vt(n)),n}return ht(a,[{key:"showSub",value:function(e){var t=ut(this.state.directory);t[e].showsub=!t[e].showsub,this.setState({directory:t}),this.props.getpage(t[e].page,t[e].link)}},{key:"componentDidMount",value:function(){for(var e=this,t=function(t){var a=Object.assign({},e.state);a.directory[t].link===window.location.pathname&&(a.directory[t].highlighted=!a.directory[t].highlighted),e.state.directory[t].subpages.length>0&&e.state.directory[t].subpages.map((function(e,n){e.link===window.location.pathname&&(a.directory[t].subpages[n].highlighted=!a.directory[t].subpages[n].highlighted,a.directory[t].showsub=!a.directory[t].showsub,a.directory[t].highlighted=!a.directory[t].highlighted)})),e.setState(a)},a=0;a<this.state.directory.length;a++)t(a)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.directory.map((function(t,a){var n={fontSize:"13px"};return t.page.length>25&&(n={fontSize:"13px"}),t.page.length>30&&(n={fontSize:"13px",lineHeight:"16px",paddingTop:"16px"}),r.a.createElement("div",{key:t.page},r.a.createElement("div",{className:t.highlighted?"mainbuttonwrap navselected":"mainbuttonwrap",style:n,key:t.page,onClick:function(){return e.showSub(a)}},t.page.toUpperCase()),t.subpages.length>0&&r.a.createElement("div",{className:e.state.directory[a].showsub?"":"hidden"},t.subpages.map((function(a){return r.a.createElement("div",{className:a.highlighted?"subbuttonwrap navselected":"subbuttonwrap",key:a.page,onClick:function(){return e.props.getpage(t.page,a.link,a.page)}},a.page.toUpperCase())}))))})))}}]),a}(n.Component),Ct=function(e){ft(a,e);var t=gt(a);function a(e){var n;return dt(this,a),(n=t.call(this,e)).state={directory:[{page:"Joint Venture Marketing Program",subpages:[{page:"Introduction",link:"/Home/JointVentureMarketing"},{page:"Referral Tracking",link:"/referral/referraltracking"}],link:"#",showsub:!1,highlighted:!1},{page:"communication center",subpages:[],link:"/General/CommunicationCenter",showsub:!1,highlighted:!1},{page:"document center",subpages:[],link:"/General/ManageUploads",showsub:!1,highlighted:!1},{page:"global service provider members",subpages:[],link:"/General/UnderConstruction",showsub:!1,highlighted:!1},{page:"global cre membership organizations",subpages:[],link:"/Home/Affiliations",showsub:!1,highlighted:!1},{page:"accounting",subpages:[{page:"referral revenue",link:"/Admin/ManageRevenue",highlighted:!1}],link:"#",showsub:!1,highlighted:!1}],currentpage:""},n.showSub=n.showSub.bind(vt(n)),n}return ht(a,[{key:"showSub",value:function(e){var t=ut(this.state.directory);t[e].showsub=!t[e].showsub,this.setState({directory:t}),this.props.getpage(t[e].page,t[e].link)}},{key:"componentWillMount",value:function(){var e=this;fetch("/Home/IsUserInJVMP").then((function(e){return e.json()})).then((function(t){if(t.IsInJVMP){var a=Object.assign({},e.state);a.directory[1]={page:"Referrals",subpages:[{page:"Monitoring",link:"/referral/referraltracking",highlighted:!1},{page:"Activity",link:"/serviceproviders/PIManagement",highlighted:!1},{page:"Accounting",link:"#",highlighted:!1}],link:"#",showsub:!1,highlighted:!1},e.setState({directory:a.directory})}}))}},{key:"componentDidMount",value:function(){for(var e=this,t=function(t){var a=Object.assign({},e.state);a.directory[t].link===window.location.pathname&&(a.directory[t].highlighted=!a.directory[t].highlighted),e.state.directory[t].subpages.length>0&&e.state.directory[t].subpages.map((function(e,n){e.link===window.location.pathname&&(a.directory[t].subpages[n].highlighted=!a.directory[t].subpages[n].highlighted,a.directory[t].showsub=!a.directory[t].showsub,a.directory[t].highlighted=!a.directory[t].highlighted)})),e.setState(a)},a=0;a<this.state.directory.length;a++)t(a)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.directory.map((function(t,a){var n={fontSize:"13px"};return t.page.length>25&&(n={fontSize:"13px"}),t.page.length>32&&(n={fontSize:"13px",lineHeight:"16px",paddingTop:"16px"}),r.a.createElement("div",{key:t.page},r.a.createElement("div",{className:t.highlighted?"mainbuttonwrap navselected":"mainbuttonwrap",style:n,key:t.page,onClick:function(){return e.showSub(a)}},t.page.toUpperCase()),t.subpages.length>0&&r.a.createElement("div",{className:e.state.directory[a].showsub?"":"hidden"},t.subpages.map((function(a){return r.a.createElement("div",{className:a.highlighted?"subbuttonwrap navselected":"subbuttonwrap",key:a.page,onClick:function(){return e.props.getpage(t.page,a.link,a.page)}},a.page.toUpperCase())}))))})))}}]),a}(n.Component),St=function(e){ft(a,e);var t=gt(a);function a(e){var n;return dt(this,a),(n=t.call(this,e)).state={directory:[{page:"my cache",subpages:[{page:"current cache",link:"/ICA/ICACache",highlighted:!1},{page:"manage portfolios",link:"/Portfolio/ManagePortfolios",highlighted:!1}],link:"#",showsub:!1,highlighted:!1},{page:"create asset",subpages:[],link:"#",showsub:!1,highlighted:!1},{page:"extract images",subpages:[],link:"/Admin/ExtractImagesFromBrochure",showsub:!1,highlighted:!1},{page:"accounting",subpages:[],link:"/Admin/ICAccountingReportDisplay",showsub:!1,highlighted:!1}],currentpage:""},n.showSub=n.showSub.bind(vt(n)),n}return ht(a,[{key:"showSub",value:function(e){var t=ut(this.state.directory);t[e].showsub=!t[e].showsub,this.setState({directory:t}),this.props.getpage(t[e].page,t[e].link)}},{key:"componentDidMount",value:function(){for(var e=this,t=function(t){var a=Object.assign({},e.state);a.directory[t].link===window.location.pathname&&(a.directory[t].highlighted=!a.directory[t].highlighted),e.state.directory[t].subpages.length>0&&e.state.directory[t].subpages.map((function(e,n){e.link===window.location.pathname&&(a.directory[t].subpages[n].highlighted=!a.directory[t].subpages[n].highlighted,a.directory[t].showsub=!a.directory[t].showsub,a.directory[t].highlighted=!a.directory[t].highlighted)})),e.setState(a)},a=0;a<this.state.directory.length;a++)t(a)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.directory.map((function(t,a){var n={fontSize:"13px"};return t.page.length>25&&(n={fontSize:"13px"}),t.page.length>32&&(n={fontSize:"13px",lineHeight:"16px",paddingTop:"16px"}),r.a.createElement("div",{key:t.page},"create asset"===t.page?r.a.createElement("div",{className:t.highlighted?"mainbuttonwrap navselected":"mainbuttonwrap","data-toggle":"modal","data-target":"#assetTypeModal",style:n,key:t.page},t.page.toUpperCase()):r.a.createElement("div",{className:t.highlighted?"mainbuttonwrap navselected":"mainbuttonwrap",style:n,key:t.page,onClick:function(){return e.showSub(a)}},t.page.toUpperCase()),t.subpages.length>0&&r.a.createElement("div",{className:e.state.directory[a].showsub?"":"hidden"},t.subpages.map((function(a){return r.a.createElement("div",{className:a.highlighted?"subbuttonwrap navselected":"subbuttonwrap",key:a.page,onClick:function(){return e.props.getpage(t.page,a.link,a.page)}},a.page.toUpperCase())}))))})))}}]),a}(n.Component),Ot=function(e){ft(a,e);var t=gt(a);function a(e){var n;return dt(this,a),(n=t.call(this,e)).state={directory:[{page:"dashboard",subpages:[],link:"/Home/MyUSCPage",showsub:!1,highlighted:!1},{page:"my inventory",subpages:[{page:"assets",link:"/Investors/SellerManageAssets",highlighted:!1},{page:"portfolio",link:"/Portfolio/ManagePortfolios",highlighted:!1},{page:"create asset",link:"#",highlighted:!1}],link:"#",showsub:!1,highlighted:!1},{page:"search",subpages:[{page:"new search",link:"/DataPortal/AssetSearchView"},{page:"favorites",link:"/Asset/ManageFavoriteGroups",highlighted:!1},{page:"saved searches",link:"/DataPortal/ManageSavedSearches",highlighted:!1}],link:"#",showsub:!1,highlighted:!1},{page:"sales & acquisitions",subpages:[],link:"/Investors/SalesAndAcquisitions",showsub:!1,highlighted:!1},{page:"global cre Service Provider Database",subpages:[{page:"search sps",link:"/ServiceProviders/SearchServiceProviders",highlighted:!1},{page:"my preferred sps",link:"/ServiceProviders/PreferredServiceProviders",highlighted:!1}],link:"#",showsub:!1,highlighted:!1}],currentpage:"",createasset:!1},n.showSub=n.showSub.bind(vt(n)),n}return ht(a,[{key:"showSub",value:function(e){var t=ut(this.state.directory);t[e].showsub=!t[e].showsub,this.setState({directory:t}),this.props.getpage(t[e].page,t[e].link)}},{key:"componentDidMount",value:function(){for(var e=this,t=function(t){var a=Object.assign({},e.state);a.directory[t].link===window.location.pathname&&(a.directory[t].highlighted=!a.directory[t].highlighted),e.state.directory[t].subpages.length>0&&e.state.directory[t].subpages.map((function(e,n){e.link===window.location.pathname&&(a.directory[t].subpages[n].highlighted=!a.directory[t].subpages[n].highlighted,a.directory[t].showsub=!a.directory[t].showsub,a.directory[t].highlighted=!a.directory[t].highlighted)})),e.setState(a)},a=0;a<this.state.directory.length;a++)t(a)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.directory.map((function(t,a){var n={fontSize:"13px"};return t.page.length>25&&(n={fontSize:"13px"}),t.page.length>32&&(n={fontSize:"13px",lineHeight:"16px",paddingTop:"16px"}),r.a.createElement("div",{key:t.page},r.a.createElement("div",{className:t.highlighted?"mainbuttonwrap navselected":"mainbuttonwrap",style:n,key:t.page,onClick:function(){return e.showSub(a)}},t.page.toUpperCase()),t.subpages.length>0&&r.a.createElement("div",{className:e.state.directory[a].showsub?"":"hidden"},t.subpages.map((function(a){return r.a.createElement("div",{className:a.highlighted?"subbuttonwrap navselected":"subbuttonwrap",key:a.page,onClick:function(){return e.props.getpage(t.page,a.link,a.page)}},a.page.toUpperCase())}))))})))}}]),a}(n.Component),Nt=function(e){ft(a,e);var t=gt(a);function a(e){var n;return dt(this,a),(n=t.call(this,e)).state={directory:[{page:"my uscre page",subpages:[],link:"/Home/MyUSCPage",showsub:!1,highlighted:!1},{page:"search",subpages:[{page:"new search",link:"/DataPortal/AssetSearchView"},{page:"favorites",link:"/Asset/ManageFavoriteGroups",highlighted:!1},{page:"saved searches",link:"/DataPortal/ManageSavedSearches",highlighted:!1}],link:"#",showsub:!1,highlighted:!1},{page:"manage cre master db",subpages:[{page:"Assets",link:"/Admin/ManageAssets",highlighted:!1},{page:"Portfolios",link:"/Portfolio/ManagePortfolios",highlighted:!1},{page:"Proof of Ownerships",link:"/Admin/ManageProofOfOwnerships",highlighted:!1}],link:"#",showsub:!1,highlighted:!1},{page:"Manage PI Master db",subpages:[{page:"principal investors",link:"/Admin/ManagePrincipalInvestorsReg"},{page:"Manage Holding Companies",link:"/Admin/ManageHoldingCompanies",highlighted:!1}],link:"#",showsub:!1,highlighted:!1},{page:"manage ica master db",subpages:[{page:"ic admins",link:"/Admin/ManageICAdmins"},{page:"ICA Pending Assets (".concat(Et.ICAPendingAssetCount,")"),link:"/Admin/ICAPendingAssets",highlighted:!1},{page:"ICA Pending Invoices (".concat(Et.ICAPendingInvoiceCount,")"),link:"/Admin/ICAPendingInvoices",highlighted:!1}],link:"#",showsub:!1,highlighted:!1},{page:"manage sp master db",subpages:[{page:"service providers",link:"#",highlighted:!1}],link:"#",showsub:!1,highlighted:!1},{page:"accounting",subpages:[{page:"manage revenue",link:"/Admin/ManageRevenue",highlighted:!1}],link:"#",showsub:!1,highlighted:!1}],currentpage:"",createasset:!1},n.showSub=n.showSub.bind(vt(n)),n}return ht(a,[{key:"showSub",value:function(e){var t=ut(this.state.directory);t[e].showsub=!t[e].showsub,this.setState({directory:t}),this.props.getpage(t[e].page,t[e].link)}},{key:"componentDidMount",value:function(){for(var e=this,t=function(t){var a=Object.assign({},e.state);a.directory[t].link===window.location.pathname&&(a.directory[t].highlighted=!a.directory[t].highlighted),e.state.directory[t].subpages.length>0&&e.state.directory[t].subpages.map((function(e,n){e.link===window.location.pathname&&(a.directory[t].subpages[n].highlighted=!a.directory[t].subpages[n].highlighted,a.directory[t].showsub=!a.directory[t].showsub,a.directory[t].highlighted=!a.directory[t].highlighted)})),e.setState(a)},a=0;a<this.state.directory.length;a++)t(a)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.directory.map((function(t,a){var n={fontSize:"13px"};return t.page.length>25&&(n={fontSize:"13px"}),t.page.length>32&&(n={fontSize:"13px",lineHeight:"16px",paddingTop:"16px"}),r.a.createElement("div",{key:t.page},r.a.createElement("div",{className:t.highlighted?"mainbuttonwrap navselected":"mainbuttonwrap",style:n,key:t.page,onClick:function(){return e.showSub(a)}},t.page.toUpperCase()),t.subpages.length>0&&r.a.createElement("div",{className:e.state.directory[a].showsub?"":"hidden"},t.subpages.map((function(a){return r.a.createElement("div",{className:a.highlighted?"subbuttonwrap navselected":"subbuttonwrap",key:a.page,onClick:function(){return e.props.getpage(t.page,a.link,a.page)}},a.page.toUpperCase())}))))})))}}]),a}(n.Component),At=function(e){ft(a,e);var t=gt(a);function a(e){var n;return dt(this,a),(n=t.call(this,e)).state={type:"ICAdmin",page:{},showPopup:!1},n.getPage=n.getPage.bind(vt(n)),n.handleClose=n.handleClose.bind(vt(n)),n}return ht(a,[{key:"handleClose",value:function(){this.setState({showPopup:!1})}},{key:"getPage",value:function(e,t,a){"create asset"!==a&&"create asset"!==e||this.setState({showPopup:!this.state.showpopup}),"#"!==t&&(document.location.href=t),this.setState({page:e})}},{key:"componentDidMount",value:function(){var e=this;fetch("/Home/GetICAPendingCounts").then((function(e){return e.json()})).then((function(e){Et={ICAPendingAssetCount:e.ICAPendingAssetCount,ICAPendingInvoiceCount:e.ICAPendingInvoiceCount}})),fetch("/Home/GetLoggedInUserType").then((function(e){return e.json()})).then((function(t){e.setState({type:t.UserType})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"navwrap"},"Investor"===this.state.type&&r.a.createElement(Ot,{getpage:this.getPage,currentpage:this.state.page}),""===this.state.type&&r.a.createElement(kt,{getpage:this.getPage,currentpage:this.state.page}),"ServiceProvider"===this.state.type&&r.a.createElement(Ct,{getpage:this.getPage,currentpage:this.state.page}),"ICAdmin"===this.state.type&&r.a.createElement(St,{getpage:this.getPage,currentpage:this.state.page}),"CorpAdmin"===this.state.type&&r.a.createElement(Nt,{getpage:this.getPage,currentpage:this.state.page})),this.state.showPopup&&r.a.createElement(lt,{closepop:this.handleClose}))}}]),a}(n.Component);fetch("/Home/GetLoggedInUserType").then((function(e){return e.json()})).then((function(e){"CorpAdmin"!==e.UserType&&""!==e.UserType&&"Investor"!==e.UserType&&"ServiceProvider"!==e.UserType&&"ICAdmin"!==e.UserType||i.a.render(r.a.createElement(At,null),document.getElementById("nav"))}));var Pt=function(e){ft(a,e);var t=gt(a);function a(e){var n;return dt(this,a),(n=t.call(this,e)).state={showPop:!1},n.showClaimPop=n.showClaimPop.bind(vt(n)),n.handleClose=n.showClaimPop.bind(vt(n)),n}return ht(a,[{key:"showClaimPop",value:function(){this.setState({showPop:!this.state.showPop})}},{key:"handleClose",value:function(){this.setState({showPop:!1})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{id:"createAssetButton",className:"btn btn-primary",onClick:this.showClaimPop},"Create New Asset"),this.state.showPop&&r.a.createElement(lt,{closepop:this.handleClose}))}}]),a}(n.Component),_t=document.getElementById("dummyID");null!=_t&&i.a.render(r.a.createElement(Pt,null),_t)}});